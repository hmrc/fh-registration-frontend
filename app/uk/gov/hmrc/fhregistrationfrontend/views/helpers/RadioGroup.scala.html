@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@(params: uk.gov.hmrc.fhregistrationfrontend.views.helpers.RadioGroupParams)(implicit message : Messages, formInstance: Option[Form[_]] = None)

@legend = {
    @params.legend match {
        case Some(legend) => {
            <legend class="form-label-bold">@legend</legend>
        }
        case _ => {}
    }
}

@formGroupClass = @{
    params.hasErrors match {
        case true => {
            "form-group form-group-error"
        }
        case _ => {
            "form-group"
        }
    }
}

@checked(testVal:String) = @{
    params.value match {
        case Some(x) => {
            if(x == testVal){"checked"}
        }
        case _ => {
            ""
        }
    }
}

<div class="@{formGroupClass}">
    <fieldset @if(params.inline){class="inline"} id="@{params.name}_fieldset">
        @legend
        @if(params.hasErrors) {
            <span class="error-message">
              @params.error
            </span>
        }
        @for(radio <- params.radios){
            <div class="multiple-choice" @if(!radio.dataTarget.isEmpty){data-target="@radio.dataTarget"}>
                <input id="@params.name@radio.value" type="radio" name="@params.name" value="@radio.value" required="required" @checked(radio.value) />
                <label for="@params.name@radio.value">@radio.label</label>
            </div>
        }
    </fieldset>
</div>
